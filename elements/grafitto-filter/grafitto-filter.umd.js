!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("@polymer/polymer/polymer-legacy.js"),require("@polymer/polymer/lib/legacy/polymer.dom.js"),require("@polymer/polymer/lib/legacy/templatizer-behavior.js")):"function"==typeof define&&define.amd?define(["@polymer/polymer/polymer-legacy.js","@polymer/polymer/lib/legacy/polymer.dom.js","@polymer/polymer/lib/legacy/templatizer-behavior.js"],t):t(e.polymerLegacy_js,e.polymer_dom_js,e.templatizerBehavior_js)}(this,function(e,t,r){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){var e,t,r=(e=['\n        <div id="dom">\n          <slot id="template" name="template"></slot>\n        </div>\n'],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return o=function(){return r},r}e.Polymer({_template:e.html(o()),is:"grafitto-filter",behaviors:[r.Templatizer],properties:{items:{type:Array,value:[]},like:{type:String,value:""},where:{type:String,value:"name"},caseSensitive:{type:Boolean,value:!1,reflectToAttribute:!0},as:{type:String,value:"items"},filtered:{type:Array,computed:"_computeFiltered(items, where, like, caseSensitive)",observer:"_onFilter"},f:{type:Function,notify:!0}},observers:["_populateUserTemplate(filtered)"],filter:function(){this.where=""},_computeFiltered:function(e,t,r,o){var l=null;l=o?new RegExp(r):new RegExp(r,"i");var n=[];if(this.f){var p=this.f.bind(this);n=e.filter(p)}else{var s=this._decomposeWhere.bind(this);n=e.filter(function(e){if("object"==i(e)){var r=s(t,e);return void 0===r&&""!=t&&console.warn("grafitto-filter was unable to find a property in '"+t+"'"),l.test(r)}return"string"==typeof e?l.test(e):"number"==typeof e?l.test(e.toString()):void 0})}return n},_populateUserTemplate:function(e){if(this._userTemplate=t.dom(this.$.template).getDistributedNodes()[0],this._userTemplate){this.templatize(this._userTemplate);var r=this.stamp();r[this.as]=e,t.dom(this.$.dom).innerHTML="",t.dom(this.$.dom).appendChild(r.root)}},_decomposeWhere:function(e,t){return e.split(".").reduce(function(e,t){return e&&e[t]},t)},_onFilter:function(){this.fire("filter")}})});
//# sourceMappingURL=grafitto-filter.umd.js.map
