!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("@polymer/polymer/polymer-legacy.js"),require("@polymer/polymer/lib/legacy/polymer.dom.js"),require("@polymer/polymer/lib/legacy/templatizer-behavior.js"),require("@polymer/polymer/lib/legacy/mutable-data-behavior.js")):"function"==typeof define&&define.amd?define(["@polymer/polymer/polymer-legacy.js","@polymer/polymer/lib/legacy/polymer.dom.js","@polymer/polymer/lib/legacy/templatizer-behavior.js","@polymer/polymer/lib/legacy/mutable-data-behavior.js"],t):t(e.polymerLegacy_js,e.polymer_dom_js,e.templatizerBehavior_js,e.mutableDataBehavior_js)}(this,function(e,t,r,i){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){var e,t,r=(e=['\n    <div id="dom">\n      <slot></slot>\n    </div>\n'],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return l=function(){return r},r}e.Polymer({_template:e.html(l()),is:"grafitto-filter",behaviors:[r.Templatizer,i.OptionalMutableDataBehavior],properties:{items:{type:Array,value:[]},like:{type:String,value:""},where:{type:String,value:"name"},caseSensitive:{type:Boolean,value:!1,reflectToAttribute:!0},as:{type:String,value:"items"},filtered:{type:Array,computed:"_computeFiltered(items, where, like, caseSensitive)",observer:"_onFilter"},f:{type:Function,notify:!0}},observers:["_populateUserTemplate(filtered)"],filter:function(){this.where=""},_computeFiltered:function(e,t,r,i){var l=null;l=i?new RegExp(r):new RegExp(r,"i");var n=[];if(this.f){var a=this.f.bind(this);n=e.filter(a)}else{var s=this._decomposeWhere.bind(this);n=e.filter(function(e){if("object"==o(e)){var r=s(t,e);return void 0===r&&""!=t&&console.warn("grafitto-filter was unable to find a property in '"+t+"'"),l.test(r)}return"string"==typeof e?l.test(e):"number"==typeof e?l.test(e.toString()):void 0})}return n},_populateUserTemplate:function(e){this.ctor?this.__clone[this.as]=e:(this._userTemplate=this.querySelector("template"),this._userTemplate||console.warn("grafitto-filter requires a template to be provided in light-dom"),this.templatize(this._userTemplate),this.__clone=this.stamp(null),this.__clone[this.as]=e,t.dom(this).appendChild(this.__clone.root))},_decomposeWhere:function(e,t){return e.split(".").reduce(function(e,t){return e&&e[t]},t)},_onFilter:function(){this.fire("filter")}})});
//# sourceMappingURL=grafitto-filter.umd.js.map
