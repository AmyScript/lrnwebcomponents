{"version":3,"file":"paper-avatar.umd.js","sources":["paper-avatar.umd.js"],"sourcesContent":["import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"@polymer/polymer/lib/elements/dom-if.js\";\n/**\n * @todo importing jdenticon bricks saying jQuery not found\n */\n// import \"./lib/jdenticon-1.4.0.min.js\";\n// import \"./lib/md5.min.js\";\n\n/**\n`paper-avatar`\nUser avatar in material style\n\n### Styling\n\nTo change the background color:\n\n    paper-avatar {\n      --paper-avatar-color: red;\n    }\n\t\nTo change the size of the avatar:\n\n    paper-avatar {\n      --paper-avatar-width: 60px;\n    }\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-avatar-width` | Size (width and height) of the avatar image | `40px`\n`--paper-avatar-color` | Background color of the avatar image | \n\n\n@demo demo/index.html \n*/\nPolymer({\n  is: \"paper-avatar\",\n  _template: html`\n    <style>\n\t\t\t:host {\n\t\t\t\t--paper-avatar-width: 40px;\n\t\t\t}\n\t\t\t:host {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\tposition: relative;\n\t\t\t\twidth: var(--paper-avatar-width);\n\t\t\t\theight:  var(--paper-avatar-width);\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tcursor: default;\n\t\t\t\tbackground-color: var(--paper-avatar-color, var(--paper-avatar-bgcolor));\n\t\t\t\t-webkit-user-select: none;\n\t\t\t\t   -moz-user-select: none;\n\t\t\t\t    -ms-user-select: none;\n\t\t\t\t\t\tuser-select: none;\n\t\t\t}\n\t\t\t\n\t\t\t:host > * {\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t\n\t\t\t#label, #img, #jdenticon {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tborder-radius: 50%;\n\t\t\t}\n\t\t\t#label {\n\t\t\t\toverflow: hidden;\n\t\t\t\tdisplay: -ms-flexbox;\n\t\t\t\tdisplay: -webkit-flex;\n\t\t\t\tdisplay: flex;\n\t\t\t\t-webkit-flex-direction: row;\n\t\t\t\t\t-ms-flex-direction: row;\n\t\t\t\t\t\tflex-direction: row;\n\t\t\t\t-webkit-align-items: center;\n\t\t\t\t\t -ms-flex-align: center;\n\t\t\t\t\t \talign-items: center;\n\t\t\t}\n\t\t\t#label span {\n\t\t\t\tdisplay: block;\n\t\t\t\twidth: 100%;\n\t\t\t\tfont-weight: 400;\n\t\t\t\tcolor: rgba(255, 255, 255, .8);\n\t\t\t\ttext-transform: capitalize;\n\t\t\t\tfont-family: 'Roboto', 'Noto', sans-serif;\n\t\t\t\t-webkit-font-smoothing: antialiased;\n\t\t\t\ttext-align: center;\n\t\t\t\tfont-size: calc(var(--paper-avatar-width) / 1.65);\n\t\t\t}\n\t\t\t#jdenticon {\n\t\t\t\twidth: var(--paper-avatar-width);\n\t\t\t\theight: var(--paper-avatar-width);\n\t\t\t}\n\t\t\t\n\t\t\t*[hidden] {\n\t\t\t\tdisplay: none !important;\n\t\t\t}\n\t\t</style>\n\n\t\t<div id=\"label\" title=\"[[label]]\"><span>[[_label(label)]]</span></div>\n\n\t\t<svg id=\"jdenticon\" width=\"40\" height=\"40\">\n      <slot></slot>\n    </svg>\n\n\t\t<template is=\"dom-if\" if=\"[[src]]\">\n\t\t\t<img id=\"img\" src=\"[[src]]\" title=\"[[label]]\" on-load=\"_onImgLoad\" on-error=\"_onImgError\" title=\"[[color]]\">\n\t\t</template>\n  `,\n  properties: {\n    /**\n     * Image address or base64\n     */\n    src: {\n      type: String\n    },\n\n    /**\n     *\tLabel with username\n     */\n    label: {\n      type: String,\n      observer: \"_observerLabel\"\n    },\n\n    /**\n     * Show two chars in avatar\n     */\n    twoChars: {\n      type: Boolean,\n      value: false\n    },\n\n    /**\n     * Array of colors for avatar background\n     */\n    colors: {\n      type: Array\n    },\n\n    /**\n     * Set true if you want use a jdenticon avatar\n     */\n    jdenticon: {\n      type: Boolean,\n      value: false\n    }\n  },\n\n  _observerLabel: function(label) {\n    if (label) {\n      if (this.jdenticon) {\n        this.$.label.hidden = true;\n\n        jdenticon.config = {\n          lightness: {\n            color: [1, 1],\n            grayscale: [1, 1]\n          },\n          saturation: 1\n        };\n\n        /**\n         * @todo: we are commenting this out for now.\n         */\n        // jdenticon.update(jdenticon, md5(label));\n      }\n\n      this.updateStyles({\n        \"--paper-avatar-bgcolor\": this._parseColor(label)\n      });\n    }\n  },\n\n  _label: function(label) {\n    if (!label) return \"\";\n\n    if (this.twoChars) {\n      if (this.label.indexOf(\" \") > -1) {\n        var matches = this.label.match(/\\b(\\w)/g);\n        return matches[0] + matches[1];\n      } else {\n        return label.substring(0, 2);\n      }\n    }\n\n    return label.charAt(0);\n  },\n\n  _onImgLoad: function(e) {\n    e.currentTarget.hidden = false;\n  },\n\n  _onImgError: function(e) {\n    e.currentTarget.hidden = true;\n  },\n\n  _parseColor: function(label) {\n    var colors = this.colors\n      ? this.colors\n      : [\n          \"#F44336\",\n          \"#E91E63\",\n          \"#9C27B0\",\n          \"#673AB7\",\n          \"#3F51B5\",\n          \"#2196F3\",\n          \"#03A9F4\",\n          \"#00BCD4\",\n          \"#795548\",\n          \"#009688\",\n          \"#4CAF50\",\n          \"#8BC34A\",\n          \"#CDDC39\",\n          \"#FFEB3B\",\n          \"#FFC107\",\n          \"#FF9800\",\n          \"#FF5722\",\n          \"#9E9E9E\",\n          \"#607D8B\"\n        ];\n\n    var hash = 0;\n\n    for (var a = 0; a < label.length; a++) hash += label.charCodeAt(a) << 5;\n\n    if (hash >= colors.length) return colors[hash % colors.length];\n\n    return colors[hash];\n  }\n});\n"],"names":["is","_template","html","properties","src","type","String","label","observer","twoChars","Boolean","value","colors","Array","jdenticon","_observerLabel","this","$","hidden","config","lightness","color","grayscale","saturation","updateStyles","_parseColor","_label","indexOf","matches","match","substring","charAt","_onImgLoad","e","currentTarget","_onImgError","hash","a","length","charCodeAt"],"mappings":"glFAkCQ,CACNA,GAAI,eACJC,UAAWC,YA6EXC,WAAY,CAIVC,IAAK,CACHC,KAAMC,QAMRC,MAAO,CACLF,KAAMC,OACNE,SAAU,kBAMZC,SAAU,CACRJ,KAAMK,QACNC,OAAO,GAMTC,OAAQ,CACNP,KAAMQ,OAMRC,UAAW,CACTT,KAAMK,QACNC,OAAO,IAIXI,eAAgB,SAASR,GACnBA,IACES,KAAKF,iBACFG,EAAEV,MAAMW,QAAS,EAEtBJ,UAAUK,OAAS,CACjBC,UAAW,CACTC,MAAO,CAAC,EAAG,GACXC,UAAW,CAAC,EAAG,IAEjBC,WAAY,SASXC,aAAa,0BACUR,KAAKS,YAAYlB,OAKjDmB,OAAQ,SAASnB,OACVA,EAAO,MAAO,MAEfS,KAAKP,SAAU,IACbO,KAAKT,MAAMoB,QAAQ,MAAQ,EAAG,KAC5BC,EAAUZ,KAAKT,MAAMsB,MAAM,kBACxBD,EAAQ,GAAKA,EAAQ,UAErBrB,EAAMuB,UAAU,EAAG,UAIvBvB,EAAMwB,OAAO,IAGtBC,WAAY,SAASC,GACnBA,EAAEC,cAAchB,QAAS,GAG3BiB,YAAa,SAASF,GACpBA,EAAEC,cAAchB,QAAS,GAG3BO,YAAa,SAASlB,WAChBK,EAASI,KAAKJ,OACdI,KAAKJ,OACL,CACE,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAGFwB,EAAO,EAEFC,EAAI,EAAGA,EAAI9B,EAAM+B,OAAQD,IAAKD,GAAQ7B,EAAMgC,WAAWF,IAAM,SAElED,GAAQxB,EAAO0B,OAAe1B,EAAOwB,EAAOxB,EAAO0B,QAEhD1B,EAAOwB"}