{"version":3,"file":"lrn-markdown-editor.umd.js","sources":["lib/lrn-markdown-editor-editor.js","lrn-markdown-editor.umd.js"],"sourcesContent":["import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"@lrnwebcomponents/mtz-marked-editor/mtz-marked-editor.js\";\nimport \"@lrnwebcomponents/mtz-marked-editor/lib/mtz-marked-control-generic-wrap.js\";\nimport \"@lrnwebcomponents/mtz-marked-editor/lib/mtz-marked-control-generic-line.js\";\nimport \"@lrnwebcomponents/mtz-marked-editor/lib/controls/mtz-marked-control-link.js\";\nimport \"@polymer/iron-icons/editor-icons.js\";\nimport \"@polymer/iron-icons/places-icons.js\";\nimport \"@polymer/iron-icon/iron-icon.js\";\nimport \"@polymer/paper-input/paper-textarea.js\";\nimport \"@polymer/paper-input/paper-input.js\";\nPolymer({\n  _template: html`\n    <style>\n       :host {\n        display: block;\n      }\n\n      .mtz-controls {\n        display: flex;\n        width: 100%;\n      }\n\n      .mtz-toolbar {\n        flex-grow: 5;\n      }\n\n    </style>\n    <mtz-marked-editor id=\"markededitor\">\n      <div slot=\"controls\" class=\"mtz-controls\">\n        <mtz-marked-control-generic-wrap icon=\"editor:format-bold\" title=\"Bold\" syntax-prefix=\"**\" syntax-suffix=\"**\" keys=\"ctrl+b\"></mtz-marked-control-generic-wrap>\n        <mtz-marked-control-generic-wrap icon=\"editor:format-italic\" title=\"Italic\" syntax-prefix=\"_\" syntax-suffix=\"_\" keys=\"ctrl+i\"></mtz-marked-control-generic-wrap>\n        <mtz-marked-control-generic-line icon=\"editor:format-size\" title=\"Heading\" syntax-prefix=\"# \"></mtz-marked-control-generic-line>\n        <mtz-marked-control-generic-line icon=\"editor:format-list-numbered\" title=\"Ordered List\" syntax-prefix=\"1. \"></mtz-marked-control-generic-line>\n        <mtz-marked-control-generic-line icon=\"editor:format-list-bulleted\" title=\"Unordered List\" syntax-prefix=\"- \"></mtz-marked-control-generic-line>\n        <mtz-marked-control-link icon=\"editor:insert-link\" title=\"Link\"></mtz-marked-control-link>\n      </div>\n      <paper-textarea slot=\"textarea\" label=\"Start typing...\" value=\"{{content}}\"></paper-textarea>\n    </mtz-marked-editor>\n`,\n\n  is: \"lrn-markdown-editor-editor\",\n\n  properties: {\n    content: {\n      type: String,\n      notify: true\n    }\n  },\n\n  _changed: function(e) {\n    var content = this.$.markededitor.getContent();\n    console.log(\"changed\");\n    this.set(\"content\", content);\n    this.fire(\"content-updated\", { content: this.content });\n  }\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"@polymer/paper-tabs/paper-tabs.js\";\nimport \"@polymer/marked-element/marked-element.js\";\nimport \"@polymer/iron-pages/iron-pages.js\";\nimport \"./lib/lrn-markdown-editor-editor.js\";\nPolymer({\n  _template: html`\n    <style>\n       :host {\n        display: block;\n      }\n\n      #split-pane {\n        display: flex;\n      }\n\n      .split-pane>* {\n        flex: 1 1 auto;\n        min-height: 10em;\n      }\n\n      .preview-pane {\n        background: lightblue;\n      }\n\n      paper-card {\n        padding: 1em;\n        width: calc(100% - 2em);\n      }\n\n      paper-tabs {\n        background: #F5F5F5;\n        border-style: solid;\n        border-color: #DCDCDC;\n        border-width: 1px;\n        min-width: 500px;\n      }\n\n      marked-element.lrn-markdown-editor {\n        width: 100%;\n        word-wrap: break-word;\n      }\n\n      .container-flex {\n        display: flex;\n        flex-wrap: nowrap;\n      }\n\n      .split-pane .container-flex>* {\n        width: 50%;\n      }\n\n      .split-pane marked-element {\n        width: calc(100% - 2em);\n        min-width: 150px;\n        margin: 0 1em;\n        padding: 0 1em;\n        background: #FFF;\n        border-left: solid #DCDCDC 1px;\n      }\n    </style>\n\n    <div class=\"mtz-toolbar\">\n      <paper-tabs selected=\"{{selected}}\">\n        <paper-tab>Write</paper-tab>\n        <paper-tab>Preview</paper-tab>\n        <paper-tab>Split View</paper-tab>\n      </paper-tabs>\n    </div>\n\n    <iron-pages selected=\"{{selected}}\">\n\n      <section>\n        <paper-card>\n          <lrn-markdown-editor-editor content=\"{{content}}\"></lrn-markdown-editor-editor>\n        </paper-card>\n      </section>\n\n      <section>\n        <paper-card>\n          <marked-element markdown=\"{{content}}\"></marked-element>\n        </paper-card>\n      </section>\n\n      <section class=\"split-pane\">\n        <paper-card>\n          <div class=\"container-flex\">\n            <lrn-markdown-editor-editor content=\"{{content}}\"></lrn-markdown-editor-editor>\n            <marked-element class=\"preview-pane\" markdown=\"{{content}}\"></marked-element>\n          </div>\n        </paper-card>\n      </section>\n\n    </iron-pages>\n`,\n\n  is: \"lrn-markdown-editor\",\n\n  properties: {\n    content: {\n      type: String,\n      notify: true\n    },\n    selected: {\n      type: String,\n      value: \"0\",\n      reflectToAttribute: true\n    },\n    layout: {\n      type: String,\n      value: 0\n    },\n    cookies: {\n      type: Boolean,\n      value: true\n    },\n    elReady: {\n      type: Boolean,\n      value: false\n    }\n  },\n\n  observers: [\"_selectedChanged(selected)\"],\n\n  _selectedChanged: function(selected) {\n    var root = this;\n    var cookieName = root._getCookieName();\n    // get current cookies\n    // if the 'split-view' pane is selected\n    if (selected === 2) {\n      // add a cookie for lrn-markdown-editor-splitview\n      root._createCookie(cookieName, \"true\", \"30\");\n    } else if (selected !== 2 && root.elReady === true) {\n      /**\n       * @todo: this is erasing the cookie erroneously\n       */\n      root._eraseCookie(cookieName);\n    }\n  },\n\n  _createCookie: function(name, value, days) {\n    var expires = \"\";\n    if (days) {\n      var date = new Date();\n      date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n      expires = \"; expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + value + expires + \"; path=/\";\n  },\n\n  _readCookie: function(name) {\n    var nameEQ = name + \"=\";\n    var ca = document.cookie.split(\";\");\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n      while (c.charAt(0) == \" \") c = c.substring(1, c.length);\n      if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);\n    }\n    return null;\n  },\n\n  _eraseCookie: function(name) {\n    this._createCookie(name, \"\", -1);\n  },\n\n  _getCookieName: function() {\n    return \"lrnmarkdowneditorsplitview\";\n  },\n\n  ready: function() {\n    var root = this;\n    // tell others we are ready\n    root.elReady = true;\n    // get the cookie for splitview\n    var cookieName = root._getCookieName();\n    var cookie = root._readCookie(cookieName);\n    // if there is a cookie set for splitview\n    if (cookie && cookie === \"true\") {\n      // show splitview pane\n      root.selected = 2;\n    }\n  }\n});\n"],"names":["_template","html","is","properties","content","type","String","notify","_changed","e","this","$","markededitor","getContent","console","log","set","fire","selected","value","reflectToAttribute","layout","cookies","Boolean","elReady","observers","_selectedChanged","cookieName","_getCookieName","_createCookie","_eraseCookie","name","days","expires","date","Date","setTime","getTime","toUTCString","document","cookie","_readCookie","nameEQ","ca","split","i","length","c","charAt","substring","indexOf","ready"],"mappings":"qhKAUQ,CACNA,UAAWC,YA6BXC,GAAI,6BAEJC,WAAY,CACVC,QAAS,CACPC,KAAMC,OACNC,QAAQ,IAIZC,SAAU,SAASC,OACbL,EAAUM,KAAKC,EAAEC,aAAaC,aAClCC,QAAQC,IAAI,gBACPC,IAAI,UAAWZ,QACfa,KAAK,kBAAmB,CAAEb,QAASM,KAAKN,uBChDzC,CACNJ,UAAWC,YA0FXC,GAAI,sBAEJC,WAAY,CACVC,QAAS,CACPC,KAAMC,OACNC,QAAQ,GAEVW,SAAU,CACRb,KAAMC,OACNa,MAAO,IACPC,oBAAoB,GAEtBC,OAAQ,CACNhB,KAAMC,OACNa,MAAO,GAETG,QAAS,CACPjB,KAAMkB,QACNJ,OAAO,GAETK,QAAS,CACPnB,KAAMkB,QACNJ,OAAO,IAIXM,UAAW,CAAC,8BAEZC,iBAAkB,SAASR,OAErBS,EADOjB,KACWkB,iBAGL,IAAbV,EAJOR,KAMJmB,cAAcF,EAAY,OAAQ,MACjB,IAAbT,IAAmC,IAPnCR,KAOuBc,SAPvBd,KAWJoB,aAAaH,IAItBE,cAAe,SAASE,EAAMZ,EAAOa,OAC/BC,EAAU,MACVD,EAAM,KACJE,EAAO,IAAIC,KACfD,EAAKE,QAAQF,EAAKG,UAAmB,GAAPL,EAAY,GAAK,GAAK,KACpDC,EAAU,aAAeC,EAAKI,cAEhCC,SAASC,OAAST,EAAO,IAAMZ,EAAQc,EAAU,YAGnDQ,YAAa,SAASV,WAChBW,EAASX,EAAO,IAChBY,EAAKJ,SAASC,OAAOI,MAAM,KACtBC,EAAI,EAAGA,EAAIF,EAAGG,OAAQD,IAAK,SAC9BE,EAAIJ,EAAGE,GACW,KAAfE,EAAEC,OAAO,IAAWD,EAAIA,EAAEE,UAAU,EAAGF,EAAED,WACvB,GAArBC,EAAEG,QAAQR,GAAc,OAAOK,EAAEE,UAAUP,EAAOI,OAAQC,EAAED,eAE3D,MAGThB,aAAc,SAASC,QAChBF,cAAcE,EAAM,IAAK,IAGhCH,eAAgB,iBACP,8BAGTuB,MAAO,WACMzC,KAENc,SAAU,MAEXG,EAJOjB,KAIWkB,iBAClBY,EALO9B,KAKO+B,YAAYd,GAE1Ba,GAAqB,SAAXA,IAPH9B,KASJQ,SAAW"}