{"version":3,"file":"lrn-vocab.umd.js","sources":["lib/lrn-vocab-dialog.js","lrn-vocab.umd.js"],"sourcesContent":["import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"@polymer/paper-dialog/paper-dialog.js\";\nimport \"@polymer/iron-icons/iron-icons.js\";\nimport \"@polymer/paper-dialog-scrollable/paper-dialog-scrollable.js\";\nimport \"@polymer/paper-icon-button/paper-icon-button.js\";\nPolymer({\n  _template: html`\n        <style>\n          :host {\n            display: block;\n            position: relative;\n          }\n          paper-dialog {\n            display: block;\n            margin: auto;\n            width: 80%;\n            height: auto;\n            z-index: 1000;\n          }\n          .top {\n            display: flex;\n            margin-top: 0;\n            justify-content: space-between;\n            background-color: #20427b;\n            color: #fff;\n            padding: 8px 16px;\n          }\n          .top h2 {\n            margin: 8px;\n            font-size: 40px;\n          }\n          .top paper-icon-button {\n            margin: 8px;\n            padding: 2px;\n          }\n        </style>\n        <paper-dialog id=\"dialog\" with-backdrop opened=\"{{opened}}\">\n          <div class=\"top\">\n            <h2>[[term]]</h2>\n            <paper-icon-button icon=\"cancel\" dialog-dismiss=\"\"></paper-icon-button>\n          </div>\n          <paper-dialog-scrollable>\n            <slot></slot>\n          </paper-dialog-scrollable>\n        </paper-dialog>\n`,\n\n  is: \"lrn-vocab-dialog\",\n\n  listeners: {\n    \"iron-overlay-closed\": \"_modalClosed\",\n    \"iron-overlay-opened\": \"_resizeContent\",\n    \"iron-overlay-canceled\": \"_changeOpen\"\n  },\n\n  properties: {\n    /**\n     * Dialog state management.\n     */\n    opened: {\n      type: Boolean,\n      value: false,\n      notify: true\n    },\n    /**\n     * Term from parent\n     */\n    term: {\n      type: String\n    }\n  },\n\n  /**\n   * Modal has closed, let's react appropriately.\n   */\n  _modalClosed: function(e) {\n    // fire so we can react to accessibly; don't care who invoked this\n    // just that it has happened\n    this._changeOpen(e);\n    this.fire(\"lrn-vocab-dialog-closed\", this);\n  },\n\n  /**\n   * Ensure everything is visible in what's been expanded.\n   */\n  _resizeContent: function(e) {\n    // fake a resize event to make contents happy\n    var evt = document.createEvent(\"UIEvents\");\n    evt.initUIEvent(\"resize\", true, false, window, 0);\n    window.dispatchEvent(evt);\n    this._changeOpen(e);\n  },\n\n  /**\n   * Attached lifecyce\n   */\n  _changeOpen: function(e) {\n    e.stopPropagation();\n    // test if this is an IDENTICAL item\n    if (e.srcElement === this.$.dialog) {\n      this.opened = e.type === \"iron-overlay-opened\";\n      this.fire(\"lrn-vocab-dialog-changed\", this);\n    }\n  }\n});\n","/**\n * Copyright 2018 The Pennsylvania State University\n * @license Apache-2.0, see License.md for full text.\n */\nimport { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport { FlattenedNodesObserver } from \"@polymer/polymer/lib/utils/flattened-nodes-observer.js\";\nimport { dom } from \"@polymer/polymer/lib/legacy/polymer.dom\";\nimport \"@polymer/paper-button/paper-button.js\";\nimport \"@lrnwebcomponents/hax-body-behaviors/lib/HAXWiring.js\";\nimport \"@lrnwebcomponents/schema-behaviors/schema-behaviors.js\";\nimport \"@lrnwebcomponents/simple-modal/simple-modal.js\";\nimport \"./lib/lrn-vocab-dialog.js\";\n/**\n`lrn-vocab`\nVocabulary term with visual treatment and semantic meaning.\n\n@demo demo/index.html\n*/\nlet LrnVocab = Polymer({\n  _template: html`\n  <custom-style>\n    <style is=\"custom-style\">\n      :host {\n        display: inline-flex;\n        --lrn-vocab-border: 1px dashed #ccc;\n      }\n      paper-button {\n        text-transform: none;\n        padding: 0;\n        margin: 0;\n        position: relative;\n        top:0px;\n        border-radius:0;\n        border-bottom: var(--lrn-vocab-border);\n        background:#f5f5f5;\n        @apply --lrn-vocab-button\n      }\n      paper-button:hover {\n        background:#bbdefb;\n        border-bottom: 1px dashed #2196f3;\n        @apply --lrn-vocab-button-hover\n      }\n    </style>\n  </custom-style>\n  <paper-button id=\"button\" noink on-tap=\"openDialog\">[[term]]</paper-button>\n`,\n\n  is: \"lrn-vocab\",\n\n  behaviors: [HAXBehaviors.PropertiesBehaviors, SchemaBehaviors.Schema],\n\n  properties: {\n    /**\n     * Term to highlight / display\n     */\n    term: {\n      type: String,\n      reflectToAttribute: true\n    }\n  },\n  /**\n   * Request the singleton dialog open\n   */\n  openDialog: function(e) {\n    let children = FlattenedNodesObserver.getFlattenedNodes(this).filter(\n      n => n.nodeType === Node.ELEMENT_NODE\n    );\n    let c = document.createElement(\"div\");\n    for (var child in children) {\n      c.appendChild(children[child].cloneNode(true));\n    }\n    const evt = new CustomEvent(\"simple-modal-show\", {\n      bubbles: true,\n      cancelable: true,\n      detail: {\n        title: this.term,\n        elements: {\n          content: c\n        },\n        invokedBy: this.$.button\n      }\n    });\n    this.dispatchEvent(evt);\n  },\n  /**\n   * Attached life cycle\n   */\n  attached: function() {\n    window.simpleModal.requestAvailability();\n    // Establish hax properties if they exist\n    let props = {\n      canScale: false,\n      canPosition: false,\n      canEditSource: false,\n      gizmo: {\n        title: \"Vocab\",\n        description: \"Vocabulary term\",\n        icon: \"image:details\",\n        color: \"red\",\n        groups: [\"Vocab\"],\n        handles: [\n          {\n            type: \"inline\",\n            text: \"term\"\n          }\n        ],\n        meta: {\n          author: \"LRNWebComponents\"\n        }\n      },\n      settings: {\n        quick: [\n          {\n            property: \"term\",\n            title: \"Term\",\n            description: \"The word or words to make clickable for more detail.\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\",\n            required: true\n          }\n        ],\n        configure: [\n          {\n            property: \"term\",\n            title: \"Term\",\n            description: \"The word or words to make clickable for more detail.\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\",\n            required: true\n          },\n          {\n            slot: \"\",\n            title: \"Contents\",\n            description: \"Contents to display in the pop up.\",\n            inputMethod: \"code-editor\",\n            required: true\n          }\n        ],\n        advanced: []\n      }\n    };\n    this.setHaxProperties(props);\n  }\n});\nexport { LrnVocab };\n"],"names":["_template","html","is","listeners","properties","opened","type","Boolean","value","notify","term","String","_modalClosed","e","_changeOpen","fire","this","_resizeContent","evt","document","createEvent","initUIEvent","window","dispatchEvent","stopPropagation","srcElement","$","dialog","LrnVocab","Polymer","behaviors","HAXBehaviors","PropertiesBehaviors","SchemaBehaviors","Schema","reflectToAttribute","openDialog","children","FlattenedNodesObserver","getFlattenedNodes","filter","n","nodeType","Node","ELEMENT_NODE","c","createElement","child","appendChild","cloneNode","CustomEvent","bubbles","cancelable","detail","title","elements","content","invokedBy","button","attached","simpleModal","requestAvailability","setHaxProperties","canScale","canPosition","canEditSource","gizmo","description","icon","color","groups","handles","text","meta","author","settings","quick","property","inputMethod","required","configure","slot","advanced"],"mappings":"24GAKQ,CACNA,UAAWC,YAyCXC,GAAI,mBAEJC,UAAW,uBACc,qCACA,yCACE,eAG3BC,WAAY,CAIVC,OAAQ,CACNC,KAAMC,QACNC,OAAO,EACPC,QAAQ,GAKVC,KAAM,CACJJ,KAAMK,SAOVC,aAAc,SAASC,QAGhBC,YAAYD,QACZE,KAAK,0BAA2BC,OAMvCC,eAAgB,SAASJ,OAEnBK,EAAMC,SAASC,YAAY,YAC/BF,EAAIG,YAAY,UAAU,GAAM,EAAOC,OAAQ,GAC/CA,OAAOC,cAAcL,QAChBJ,YAAYD,IAMnBC,YAAa,SAASD,GACpBA,EAAEW,kBAEEX,EAAEY,aAAeT,KAAKU,EAAEC,cACrBtB,OAAoB,wBAAXQ,EAAEP,UACXS,KAAK,2BAA4BC,cCnFxCY,EAAWC,UAAQ,CACrB7B,UAAWC,YA4BXC,GAAI,YAEJ4B,UAAW,CAACC,aAAaC,oBAAqBC,gBAAgBC,QAE9D9B,WAAY,CAIVM,KAAM,CACJJ,KAAMK,OACNwB,oBAAoB,IAMxBC,WAAY,SAASvB,OACfwB,EAAWC,yBAAuBC,kBAAkBvB,MAAMwB,OAC5D,SAAAC,UAAKA,EAAEC,WAAaC,KAAKC,eAEvBC,EAAI1B,SAAS2B,cAAc,WAC1B,IAAIC,KAASV,EAChBQ,EAAEG,YAAYX,EAASU,GAAOE,WAAU,QAEpC/B,EAAM,IAAIgC,YAAY,oBAAqB,CAC/CC,SAAS,EACTC,YAAY,EACZC,OAAQ,CACNC,MAAOtC,KAAKN,KACZ6C,SAAU,CACRC,QAASX,GAEXY,UAAWzC,KAAKU,EAAEgC,eAGjBnC,cAAcL,IAKrByC,SAAU,WACRrC,OAAOsC,YAAYC,2BAqDdC,iBAnDO,CACVC,UAAU,EACVC,aAAa,EACbC,eAAe,EACfC,MAAO,CACLZ,MAAO,QACPa,YAAa,kBACbC,KAAM,gBACNC,MAAO,MACPC,OAAQ,CAAC,SACTC,QAAS,CACP,CACEjE,KAAM,SACNkE,KAAM,SAGVC,KAAM,CACJC,OAAQ,qBAGZC,SAAU,CACRC,MAAO,CACL,CACEC,SAAU,OACVvB,MAAO,OACPa,YAAa,uDACbW,YAAa,YACbV,KAAM,eACNW,UAAU,IAGdC,UAAW,CACT,CACEH,SAAU,OACVvB,MAAO,OACPa,YAAa,uDACbW,YAAa,YACbV,KAAM,eACNW,UAAU,GAEZ,CACEE,KAAM,GACN3B,MAAO,WACPa,YAAa,qCACbW,YAAa,cACbC,UAAU,IAGdG,SAAU"}