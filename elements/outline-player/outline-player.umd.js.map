{"version":3,"file":"outline-player.umd.js","sources":["lib/outline-player-arrow.js","outline-player.umd.js"],"sourcesContent":["import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport \"@lrnwebcomponents/materializecss-styles/materializecss-styles.js\";\n/**\n`outline-player`\nA LRN element\n\n@demo demo/index.html\n\n*/\nPolymer({\n  _template: html`\n    <style include=\"materializecss-styles\">\n      :host {\n        display: block;\n        position: relative;\n        font-family: libre baskerville;\n        width: 48px;\n        --app-drawer-width: 300px;\n        --outline-player-dark: #222222;\n        --outline-player-light: #F8F8F8;\n      }\n\n      paper-icon-button {\n        --paper-icon-button-ink-color: var(--outline-player-dark);\n      }\n    </style>\n\n    <div id=\"container\">\n      <paper-icon-button id=\"button\" disabled=\"[[disabled]]\" icon=\"[[icon]]\"></paper-icon-button>\n      <paper-tooltip for=\"button\" position=\"bottom\" offset=\"14\">\n        <slot></slot>\n      </paper-tooltip>\n    </div>\n`,\n\n  is: \"outline-player-arrow\",\n\n  behaviors: [MaterializeCSSBehaviors.ColorBehaviors],\n\n  properties: {\n    icon: {\n      type: String,\n      value: \"icons:arrow-back\"\n    },\n    disabled: {\n      type: Boolean,\n      value: true,\n      reflectToAttribute: true\n    },\n    sticky: {\n      type: Boolean,\n      value: false,\n      reflectToAttribute: true\n    },\n    __isNavSticky: {\n      type: Boolean,\n      value: false,\n      observer: \"__isNavStickyChanged\"\n    },\n    __originalPosition: {\n      type: Number,\n      value: 0\n    }\n  },\n\n  attached: function() {\n    // identify your nav element to query\n    this.__originalPosition = this.__getElementOffset(this);\n    const container = this.$.container;\n    // watch for a scroll event\n    window.addEventListener(\"scroll\", e => {\n      // check if we are sticky\n      if (this.sticky) {\n        // calculate is nav sticky\n        this.__calculateIsNavSticky();\n        // scroll the nav element\n        if (this.__isNavSticky) {\n          container.style.position = \"absolute\";\n          container.style.top =\n            window.pageYOffset - this.__originalPosition.top + \"px\";\n          container.style.left = this.__originalPosition.left;\n        }\n      }\n    });\n  },\n\n  /**\n   * Reset the dynaimc positioning of the arrows.  Usefull for ajax page changes\n   */\n  resetPosition: function() {\n    const container = this.$.container;\n    container.style.top = 0;\n  },\n\n  /**\n   * Sticky Nav has changed\n   */\n  __isNavStickyChanged: function(isNavSticky) {\n    console.log(\"is sticky\", isNavSticky);\n  },\n\n  /**\n   * Calculate is nav sticky\n   */\n  __calculateIsNavSticky: function() {\n    const position = window.pageYOffset;\n    // if the window scroll has reached the element\n    if (this.__originalPosition.top < position) {\n      // // check to make sure that its not already sticky\n      if (!this.__isNavSticky) {\n        this.__isNavSticky = true;\n      }\n    } else {\n      if (this.__isNavSticky) {\n        this.__isNavSticky = false;\n      }\n    }\n  },\n\n  /**\n   * Get Element Offset\n   */\n  __getElementOffset(element) {\n    const de = document.documentElement;\n    const box = element.getBoundingClientRect();\n    const top = box.top + window.pageYOffset - de.clientTop;\n    const left = box.left + window.pageXOffset - de.clientLeft;\n    return { top: top, left: left };\n  }\n});\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport { dom } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\nimport { pathFromUrl } from \"@polymer/polymer/lib/utils/resolve-url.js\";\nimport * as async from \"@polymer/polymer/lib/utils/async.js\";\nimport { updateStyles } from \"@polymer/polymer/lib/mixins/element-mixin.js\";\nimport \"@polymer/iron-ajax/iron-ajax.js\";\nimport \"@polymer/app-layout/app-header/app-header.js\";\nimport \"@polymer/app-layout/app-toolbar/app-toolbar.js\";\nimport \"@polymer/app-layout/app-drawer/app-drawer.js\";\nimport \"@polymer/app-layout/app-drawer-layout/app-drawer-layout.js\";\nimport \"@polymer/app-layout/app-header-layout/app-header-layout.js\";\nimport \"@polymer/paper-progress/paper-progress.js\";\nimport \"@polymer/iron-media-query/iron-media-query.js\";\nimport \"@lrnwebcomponents/materializecss-styles/materializecss-styles.js\";\nimport \"@lrnwebcomponents/schema-behaviors/schema-behaviors.js\";\nimport \"@lrnwebcomponents/map-menu/map-menu.js\";\nimport \"./lib/outline-player-arrow.js\";\n/**\n`outline-player`\nA LRN element\n\n@demo demo/index.html\n\n*/\nlet OutlinePlayer = Polymer({\n  _template: html`\n    <style include=\"materializecss-styles\">\n      :host {\n        display: block;\n        font-family: libre baskerville;\n        position: relative;\n        overflow: hidden;\n        --outline-player-min-height: '';\n        --app-drawer-width: 300px;\n        --outline-player-dark: #222222;\n        --outline-player-light: #F8F8F8;\n        --outline-player-arrow-margin-top: 50px;\n      }\n\n      :host([closed]) {\n        --app-drawer-width: 0px;\n      }\n\n      h1 {\n        font-size: 48px;\n        line-height: 16px;\n      }\n\n      h2 {\n        font-size: 32px;\n      }\n\n      h3 {\n        font-size: 28px;\n      }\n\n      p {\n        line-height: 26px;\n        min-height: 26px;\n      }\n\n      a,\n      a:visited,\n      a:active {\n        color: #000;\n      }\n\n      a:hover {\n        color: #2196f3;\n      }\n\n      ul li {\n        padding-bottom: 24px;\n        line-height: 1.5;\n        color: #424242;\n        max-width: 448px;\n      }\n\n      ul li:last-child {\n        padding-bottom: 16px;\n      }\n\n      app-toolbar {\n        background-color: var(--outline-player-light);\n        color: var(--outline-player-dark);\n        font-weight: bold;\n        border-bottom: solid 1px var(--outline-player-dark);\n        -webkit-box-shadow: 0 0 6px -1px var(--outline-player-dark);\n        box-shadow: 0 0 6px -1px var(--outline-player-dark);\n      }\n\n      app-drawer-layout {\n        min-height: 100%;\n        min-height: -moz-available;          /* WebKit-based browsers will ignore this. */\n        min-height: -webkit-fill-available;  /* Mozilla-based browsers will ignore this. */\n        min-height: fill-available;\n        /* if the user has set a specific value then override the defaults */\n        min-height: var(--outline-player-min-height);\n      }\n\n      .outline-title {\n        font-size: 24px;\n        height: 64px;\n        padding: 16px;\n        margin: 0;\n      }\n\n      #menu {\n        padding: 8px;\n      }\n\n      outline-player-navigation {\n        --outline-player-dark: var(--outline-player-dark);\n      }\n\n      paper-icon-button+[main-title] {\n        margin-left: 24px;\n      }\n\n      paper-progress {\n        display: block;\n        width: 100%;\n        --paper-progress-active-color: rgba(255, 255, 255, 0.5);\n        --paper-progress-container-color: transparent;\n      }\n\n      app-header {\n        color: var(--outline-player-dark);\n        /* Enable outline to be placed anywhere in the dom */\n        /* This will override the app-header-layout forcing fixed mode */\n        position: absolute !important;\n        left: 0 !important;\n        --app-header-background-rear-layer: {\n          /* app-header-layout will force fixed */\n          background-color: var(--outline-player-light);\n        }\n      }\n\n      app-toolbar {\n        box-shadow: none;\n        border-bottom: none;\n        background: none;\n      }\n\n      app-drawer {\n        border-bottom: solid 1px var(--outline-player-dark);\n        -webkit-box-shadow: 0 0 6px -3px var(--outline-player-dark);\n        box-shadow: 0 0 6px -3px var(--outline-player-dark);\n        position: absolute;\n        min-height: var(--outline-play-min-height);\n        --app-drawer-scrim-background: rgba(80, 80, 80, 0.8);\n        --app-drawer-content-container: {\n          overflow: scroll;\n          background-color: var(--outline-player-light);\n        }\n      }\n\n      #content {\n        display: flex;\n        justify-content: center;\n      }\n\n      #content>* {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      }\n\n      #slot {\n        padding: 16px;\n        max-width: 1040px;\n        flex: 1 1 auto;\n        order: 1;\n      }\n\n      .desktopNav {\n        margin-left: 2%;\n        margin-right: 2%;\n        position: relative;\n        margin-top: var(--outline-player-arrow-margin-top);\n      }\n\n      #desktopNavLeft {\n        order: 0\n      }\n\n      #desktopNavRight {\n        order: 2\n      }\n    </style>\n    <iron-ajax auto=\"[[auto]]\" url=\"[[outlineLocation]][[outlineFile]]\" handle-as=\"json\" last-response=\"{{_outlineData}}\"></iron-ajax>\n    <iron-ajax auto=\"[[auto]]\" url=\"[[outlineLocation]][[activeItem.location]]\" handle-as=\"text\" loading=\"{{__loadingContent}}\" last-response=\"{{_activeItemContent}}\"></iron-ajax>\n    <app-drawer-layout>\n      <app-drawer id=\"drawer\" swipe-open=\"\" slot=\"drawer\">\n        <template is=\"dom-if\" if=\"[[__hasTitle(outlineTitle)]]\">\n          <h2 class=\"outline-title\">[[outlineTitle]]</h2>\n        </template>\n        <map-menu id=\"menu\" items=\"{{outline}}\" data=\"[[_outlineData.items]]\" selected=\"{{selected}}\" active-indicator=\"\" auto-scroll=\"\"></map-menu>\n      </app-drawer>\n      <app-header-layout>\n        <app-header reveals=\"\" slot=\"header\">\n          <app-toolbar>\n            <paper-icon-button icon=\"menu\" on-click=\"_toggleMenu\"></paper-icon-button>\n            <div main-title=\"\">\n              [[activeItem.title]]\n              <div id=\"slotTitle\">\n                <slot name=\"title\"></slot>\n              </div>\n            </div>\n            <template is=\"dom-if\" if=\"[[!breakpointDesktop]]\">\n              <outline-player-arrow id=\"prevpage\" disabled=\"[[disablePrevPage(__activeIndex)]]\" icon=\"icons:arrow-back\" on-click=\"prevPage\">\n                Previous page\n              </outline-player-arrow>\n              <outline-player-arrow id=\"nextpage\" disabled=\"[[disableNextPage(__activeIndex)]]\" icon=\"icons:arrow-forward\" on-click=\"nextPage\">\n                Next page\n              </outline-player-arrow>\n            </template>\n            <paper-progress hidden\\$=\"[[!__loadingContent]]\" value=\"10\" indeterminate=\"\" bottom-item=\"\"></paper-progress>\n          </app-toolbar>\n        </app-header>\n        <div id=\"content\">\n          <div id=\"slot\">\n            <slot></slot>\n          </div>\n          <template is=\"dom-if\" if=\"[[breakpointDesktop]]\">\n            <div class=\"desktopNav\" id=\"desktopNavLeft\">\n              <outline-player-arrow sticky=\"\" id=\"prevpage\" disabled=\"[[disablePrevPage(__activeIndex)]]\" icon=\"icons:arrow-back\" on-click=\"prevPage\">\n                Previous page\n              </outline-player-arrow>\n            </div>\n            <div class=\"desktopNav\" id=\"desktopNavRight\">\n              <outline-player-arrow sticky=\"\" id=\"nextpage\" disabled=\"[[disableNextPage(__activeIndex)]]\" icon=\"icons:arrow-forward\" on-click=\"nextPage\">\n                Next page\n              </outline-player-arrow>\n            </div>\n          </template>\n        </div>\n      </app-header-layout>\n    </app-drawer-layout>\n    <iron-media-query query=\"(min-width: 700px)\" query-matches=\"{{breakpointDesktop}}\"></iron-media-query>\n`,\n\n  is: \"outline-player\",\n\n  behaviors: [MaterializeCSSBehaviors.ColorBehaviors, SchemaBehaviors.Schema],\n\n  properties: {\n    /**\n     * Auto call json files\n     */\n    auto: {\n      type: Boolean,\n      value: false\n    },\n    /**\n     * Outline JSON file name\n     */\n    outlineFile: {\n      type: String,\n      value: \"outline.json\"\n    },\n    /**\n     * Outline JSON location\n     */\n    outlineLocation: {\n      type: String\n    },\n    /**\n     * Title of the outline.\n     */\n    outlineTitle: {\n      type: String\n    },\n    /**\n     * acitvely selected item\n     */\n    selected: {\n      type: String,\n      observer: \"_selectedPageChanged\"\n    },\n    /**\n     * Closed status for the drawer\n     */\n    closed: {\n      type: Boolean,\n      reflectToAttribute: true,\n      value: false\n    },\n    /**\n     * Active item content\n     */\n    _activeItemContent: {\n      type: String,\n      observer: \"_activeItemContentChanged\"\n    },\n    /**\n     * Outline structured via JSON Outline Schema off the wire\n     */\n    outline: {\n      type: Array,\n      notify: true,\n      observer: \"_outlineChanged\"\n    },\n    /**\n     * Active item which is in JSON Outline Schema\n     */\n    activeItem: {\n      type: Object,\n      notify: true\n    },\n    /**\n     * Autoloader to ensure other components are there to work with\n     */\n    autoloader: {\n      type: Array,\n      value: [\n        \"license-element\",\n        \"grid-plate\",\n        \"q-r\",\n        \"self-check\",\n        \"tab-list\",\n        \"multiple-choice\",\n        \"oer-schema\",\n        \"hero-banner\",\n        \"magazine-cover\",\n        \"task-list\",\n        \"video-player\",\n        \"lrn-table\",\n        \"media-image\",\n        \"lrndesign-blockquote\",\n        \"meme-maker\",\n        \"a11y-gif-player\",\n        \"paper-audio-player\",\n        \"wikipedia-query\",\n        \"wave-player\",\n        \"pdf-element\",\n        \"lrn-vocab\",\n        \"lrn-math\",\n        \"person-testimonial\",\n        \"citation-element\",\n        \"lrn-calendar\",\n        \"code-editor\",\n        \"place-holder\",\n        \"aframe-player\"\n      ],\n      observer: \"_autoLoadChanged\"\n    },\n    /**\n     * Define desktop breakpoint for adapted navigation\n     */\n    breakpointDesktop: {\n      type: String,\n      value: \"600px\"\n    },\n    /**\n     * Set min height of outline player to fill remaining\n     * space to the bottom of the browser\n     */\n    fillRemaining: {\n      type: Boolean,\n      value: false,\n      reflectToAttribute: true\n    }\n  },\n\n  attached: function() {\n    // if the user has fill remaining selected then run it\n    this.refreshDynamicPositions();\n    // also start listening for future resizing events to\n    // re-run the code\n    window.addEventListener(\"resize\", e => {\n      this.refreshDynamicPositions();\n    });\n  },\n\n  /**\n   * Update calculations for fill-remaining and arrow position\n   */\n  refreshDynamicPositions() {\n    // get bounding rect\n    const boundingRect = this.getBoundingClientRect();\n    // get windowHeight\n    const windowHeight = window.innerHeight;\n    // simple subtraction to find out what the remaining space is\n    const minHeight = windowHeight - boundingRect.top;\n    // now get where the arrows should be, and subtract 20 pixels to\n    // account for the height of the button\n    const arrowMargin = minHeight / 2 - 20;\n    let styleChanges = {};\n    if (this.fillRemaining) {\n      styleChanges[\"--outline-player-min-height\"] = minHeight + \"px\";\n    }\n    styleChanges[\"--outline-player-arrow-margin-top\"] = arrowMargin + \"px\";\n    this.updateStyles(styleChanges);\n  },\n\n  /**\n   * Link menu button to open and closing the side panel.\n   */\n  _toggleMenu: function(e) {\n    this.$.drawer.toggle();\n    // allow styling to trigger based on open status\n    this.closed = !this.$.drawer.opened;\n    // kind of silly it doesn't just work this way but\n    // app-panel doesn't make any assumptions about how\n    // to handle the layout when it closes\n    async.microTask.run(() => {\n      // trick browser into thinking we just reized\n      window.dispatchEvent(new Event(\"resize\"));\n      // forcibly update styles via css variables\n      updateStyles();\n    });\n  },\n\n  /**\n   * Process only new elements\n   */\n  _autoLoadChanged: function(newValue, oldValue) {\n    if (\n      typeof newValue !== typeof undefined &&\n      newValue.constructor === Array\n    ) {\n      if (typeof this.__processedList === typeof undefined) {\n        this.__processedList = {};\n      }\n      // when new nodes show up in the slots then fire the needed pieces\n      for (var i in newValue) {\n        let tag = newValue[i].toLowerCase();\n        // see if we added this before\n        if (typeof this.__processedList[tag] === typeof undefined) {\n          // attempt a dynamic import with graceful failure / fallback\n          try {\n            this.__processedList[tag] = tag;\n            // @todo this won't find all tags\n            import(pathFromUrl(import.meta.url) + `../${tag}/${tag}.js`).then(\n              e => {\n                //e.target.import\n              },\n              e => {\n                //import failed\n              }\n            );\n          } catch (err) {\n            // error in the event this is a double registration\n          }\n        }\n      }\n    }\n  },\n\n  /**\n   * Wipe slotted content\n   */\n  wipeSlot: function(element, slot = \"*\") {\n    // 100% clean slate\n    if (slot === \"*\") {\n      while (dom(element).firstChild !== null) {\n        dom(element).removeChild(dom(element).firstChild);\n      }\n    } else {\n      for (var i in dom(element).childNodes) {\n        // test for element nodes to be safe\n        if (\n          typeof dom(element).childNodes[i] !== typeof undefined &&\n          dom(element).childNodes[i].slot === slot\n        ) {\n          dom(element).removeChild(dom(element).childNodes[i]);\n        }\n      }\n    }\n  },\n\n  /**\n   * active item content changed.\n   */\n  _activeItemContentChanged: function(newValue, oldValue) {\n    if (typeof newValue !== typeof undefined) {\n      this.wipeSlot(this, \"*\");\n      if (newValue !== null) {\n        let frag = document.createRange().createContextualFragment(newValue);\n        dom(this).appendChild(frag);\n      }\n    }\n  },\n\n  /**\n   * When outline changes let's do this.\n   */\n  _outlineChanged: function(newValue, oldValue) {\n    if (\n      typeof newValue !== typeof undefined &&\n      typeof oldValue !== typeof undefined &&\n      newValue.constructor === Array &&\n      typeof newValue[0] !== typeof undefined\n    ) {\n      this.set(\"activeItem\", newValue[0]);\n      this.__activeIndex = 0;\n    }\n  },\n\n  /**\n   * disablePrevPage\n   */\n  disablePrevPage: function(index) {\n    if (index === 0) {\n      return true;\n    }\n    return false;\n  },\n\n  /**\n   * disableNextPage\n   */\n  disableNextPage: function(index) {\n    if (index === this._outlineData.items.length - 1) {\n      return true;\n    }\n    return false;\n  },\n\n  /**\n   * Go back a page (if we can)\n   */\n  prevPage: function(e) {\n    this.changePage(\"previous\");\n  },\n\n  /**\n   * Advance a page\n   */\n  nextPage: function(e) {\n    this.changePage(\"next\");\n  },\n\n  /**\n   * Go forward a page\n   */\n  changePage: function(direction) {\n    if (\n      direction == \"next\" &&\n      this.__activeIndex < this._outlineData.items.length - 1\n    ) {\n      this.selected = this._outlineData.items[this.__activeIndex + 1].id;\n    } else if (direction == \"previous\" && this.__activeIndex > 0) {\n      this.selected = this._outlineData.items[this.__activeIndex - 1].id;\n    }\n    // tell arrows to reset in case we are jumped around the page\n    const arrows = this.querySelectorAll(\"outline-player-arrow\");\n    for (let arrow of arrows) {\n      arrow.resetPosition();\n    }\n  },\n\n  /**\n   * Selected page has changed.\n   */\n  _selectedPageChanged: function(newValue, oldValue) {\n    if (typeof newValue !== typeof undefined) {\n      if (typeof this._outlineData !== typeof undefined) {\n        const item = this._outlineData.items\n          .filter((d, i) => {\n            if (newValue === d.id) {\n              this.__activeIndex = i;\n              return d;\n            }\n          })\n          .pop();\n        this.set(\"activeItem\", item);\n      }\n    }\n  },\n\n  /**\n   * Determine whether we should show the title\n   */\n  __hasTitle: function(outlineTitle) {\n    return outlineTitle ? true : false;\n  }\n});\nexport { OutlinePlayer };\n"],"names":["_template","html","is","behaviors","MaterializeCSSBehaviors","ColorBehaviors","properties","icon","type","String","value","disabled","Boolean","reflectToAttribute","sticky","__isNavSticky","observer","__originalPosition","Number","attached","this","__getElementOffset","container","$","window","addEventListener","e","_this","__calculateIsNavSticky","style","position","top","pageYOffset","left","resetPosition","__isNavStickyChanged","isNavSticky","console","log","element","de","document","documentElement","box","getBoundingClientRect","clientTop","pageXOffset","clientLeft","OutlinePlayer","Polymer","SchemaBehaviors","Schema","auto","outlineFile","outlineLocation","outlineTitle","selected","closed","_activeItemContent","outline","Array","notify","activeItem","Object","autoloader","breakpointDesktop","fillRemaining","refreshDynamicPositions","boundingRect","minHeight","innerHeight","arrowMargin","styleChanges","updateStyles","_toggleMenu","drawer","toggle","opened","async","run","dispatchEvent","Event","_autoLoadChanged","newValue","oldValue","_typeof","constructor","i","__processedList","tag","toLowerCase","pathFromUrl","then","err","wipeSlot","slot","dom","firstChild","removeChild","childNodes","_activeItemContentChanged","frag","createRange","createContextualFragment","appendChild","_outlineChanged","set","__activeIndex","disablePrevPage","index","disableNextPage","_outlineData","items","length","prevPage","changePage","nextPage","direction","id","arrows","querySelectorAll","_selectedPageChanged","item","filter","d","_this2","pop","__hasTitle"],"mappings":"m/gBASQ,CACNA,UAAWC,YAyBXC,GAAI,uBAEJC,UAAW,CAACC,wBAAwBC,gBAEpCC,WAAY,CACVC,KAAM,CACJC,KAAMC,OACNC,MAAO,oBAETC,SAAU,CACRH,KAAMI,QACNF,OAAO,EACPG,oBAAoB,GAEtBC,OAAQ,CACNN,KAAMI,QACNF,OAAO,EACPG,oBAAoB,GAEtBE,cAAe,CACbP,KAAMI,QACNF,OAAO,EACPM,SAAU,wBAEZC,mBAAoB,CAClBT,KAAMU,OACNR,MAAO,IAIXS,SAAU,2BAEHF,mBAAqBG,KAAKC,mBAAmBD,UAC5CE,EAAYF,KAAKG,EAAED,UAEzBE,OAAOC,iBAAiB,SAAU,SAAAC,GAE5BC,EAAKb,SAEPa,EAAKC,yBAEDD,EAAKZ,gBACPO,EAAUO,MAAMC,SAAW,WAC3BR,EAAUO,MAAME,IACdP,OAAOQ,YAAcL,EAAKV,mBAAmBc,IAAM,KACrDT,EAAUO,MAAMI,KAAON,EAAKV,mBAAmBgB,UASvDC,cAAe,WACKd,KAAKG,EAAED,UACfO,MAAME,IAAM,GAMxBI,qBAAsB,SAASC,GAC7BC,QAAQC,IAAI,YAAaF,IAM3BR,uBAAwB,eAChBE,EAAWN,OAAOQ,YAEpBZ,KAAKH,mBAAmBc,IAAMD,EAE3BV,KAAKL,qBACHA,eAAgB,GAGnBK,KAAKL,qBACFA,eAAgB,IAQ3BM,4BAAmBkB,OACXC,EAAKC,SAASC,gBACdC,EAAMJ,EAAQK,8BAGb,CAAEb,IAFGY,EAAIZ,IAAMP,OAAOQ,YAAcQ,EAAGK,UAE3BZ,KADNU,EAAIV,KAAOT,OAAOsB,YAAcN,EAAGO,mBCtGhDC,EAAgBC,UAAQ,CAC1BjD,UAAWC,YAyNXC,GAAI,iBAEJC,UAAW,CAACC,wBAAwBC,eAAgB6C,gBAAgBC,QAEpE7C,WAAY,CAIV8C,KAAM,CACJ5C,KAAMI,QACNF,OAAO,GAKT2C,YAAa,CACX7C,KAAMC,OACNC,MAAO,gBAKT4C,gBAAiB,CACf9C,KAAMC,QAKR8C,aAAc,CACZ/C,KAAMC,QAKR+C,SAAU,CACRhD,KAAMC,OACNO,SAAU,wBAKZyC,OAAQ,CACNjD,KAAMI,QACNC,oBAAoB,EACpBH,OAAO,GAKTgD,mBAAoB,CAClBlD,KAAMC,OACNO,SAAU,6BAKZ2C,QAAS,CACPnD,KAAMoD,MACNC,QAAQ,EACR7C,SAAU,mBAKZ8C,WAAY,CACVtD,KAAMuD,OACNF,QAAQ,GAKVG,WAAY,CACVxD,KAAMoD,MACNlD,MAAO,CACL,kBACA,aACA,MACA,aACA,WACA,kBACA,aACA,cACA,iBACA,YACA,eACA,YACA,cACA,uBACA,aACA,kBACA,qBACA,kBACA,cACA,cACA,YACA,WACA,qBACA,mBACA,eACA,cACA,eACA,iBAEFM,SAAU,oBAKZiD,kBAAmB,CACjBzD,KAAMC,OACNC,MAAO,SAMTwD,cAAe,CACb1D,KAAMI,QACNF,OAAO,EACPG,oBAAoB,IAIxBM,SAAU,2BAEHgD,0BAGL3C,OAAOC,iBAAiB,SAAU,SAAAC,GAChCC,EAAKwC,6BAOTA,uCAEQC,EAAehD,KAAKwB,wBAIpByB,EAFe7C,OAAO8C,YAEKF,EAAarC,IAGxCwC,EAAcF,EAAY,EAAI,GAChCG,EAAe,GACfpD,KAAK8C,gBACPM,EAAa,+BAAiCH,EAAY,MAE5DG,EAAa,qCAAuCD,EAAc,UAC7DE,aAAaD,IAMpBE,YAAa,SAAShD,QACfH,EAAEoD,OAAOC,cAETnB,QAAUrC,KAAKG,EAAEoD,OAAOE,OAI7BC,YAAgBC,IAAI,WAElBvD,OAAOwD,cAAc,IAAIC,MAAM,WAE/BR,oBAOJS,iBAAkB,SAASC,EAAUC,oBAEjCC,EAAOF,IACPA,EAASG,cAAgB1B,UAMpB,IAAI2B,kBAJLF,EAAOjE,KAAKoE,wBACTA,gBAAkB,IAGXL,EAAU,KAClBM,EAAMN,EAASI,GAAGG,+BAElBL,EAAOjE,KAAKoE,gBAAgBC,aAGvBD,gBAAgBC,GAAOA,SAErBE,2MAAqCF,cAAOA,UAAUG,KAC3D,SAAAlE,KAGA,SAAAA,MAIF,MAAOmE,OAWjBC,SAAU,SAASvD,OAASwD,yDAAO,OAEpB,MAATA,OACiC,OAA5BC,MAAIzD,GAAS0D,YAClBD,MAAIzD,GAAS2D,YAAYF,MAAIzD,GAAS0D,qBAGnC,IAAIV,KAAKS,MAAIzD,GAAS4D,yBAGvBd,EAAOW,MAAIzD,GAAS4D,WAAWZ,KAC/BS,MAAIzD,GAAS4D,WAAWZ,GAAGQ,OAASA,GAEpCC,MAAIzD,GAAS2D,YAAYF,MAAIzD,GAAS4D,WAAWZ,KASzDa,0BAA2B,SAASjB,EAAUC,oBACxCC,EAAOF,UACJW,SAAS1E,KAAM,KACH,OAAb+D,GAAmB,KACjBkB,EAAO5D,SAAS6D,cAAcC,yBAAyBpB,GAC3Da,MAAI5E,MAAMoF,YAAYH,KAQ5BI,gBAAiB,SAAStB,EAAUC,iBAEhCC,EAAOF,kBACPE,EAAOD,IACPD,EAASG,cAAgB1B,qBACzByB,EAAOF,EAAS,WAEXuB,IAAI,aAAcvB,EAAS,SAC3BwB,cAAgB,IAOzBC,gBAAiB,SAASC,UACV,IAAVA,GASNC,gBAAiB,SAASD,UACpBA,IAAUzF,KAAK2F,aAAaC,MAAMC,OAAS,GASjDC,SAAU,SAASxF,QACZyF,WAAW,aAMlBC,SAAU,SAAS1F,QACZyF,WAAW,SAMlBA,WAAY,SAASE,GAEJ,QAAbA,GACAjG,KAAKuF,cAAgBvF,KAAK2F,aAAaC,MAAMC,OAAS,OAEjDzD,SAAWpC,KAAK2F,aAAaC,MAAM5F,KAAKuF,cAAgB,GAAGW,GAC1C,YAAbD,GAA2BjG,KAAKuF,cAAgB,SACpDnD,SAAWpC,KAAK2F,aAAaC,MAAM5F,KAAKuF,cAAgB,GAAGW,QAG5DC,EAASnG,KAAKoG,iBAAiB,2DACnBD,iDAAQ,SAClBrF,qGAOVuF,qBAAsB,SAAStC,EAAUC,+BACnCC,EAAOF,kBACLE,EAAOjE,KAAK2F,cAAmC,KAC3CW,EAAOtG,KAAK2F,aAAaC,MAC5BW,OAAO,SAACC,EAAGrC,MACNJ,IAAayC,EAAEN,UACjBO,EAAKlB,cAAgBpB,EACdqC,IAGVE,WACEpB,IAAI,aAAcgB,KAQ7BK,WAAY,SAASxE,WACZA"}