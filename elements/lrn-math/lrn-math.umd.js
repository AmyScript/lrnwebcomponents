!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t,e,n){return(a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&i(o,n.prototype),o}).apply(null,arguments)}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return a(t,arguments,o(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i(r,t)})(t)}function u(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}var l,s,f=window.document,p={start:1,loading:2,ready:3,typesetting:4,error:5},d=[],h=p.start,y="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js";function v(){if(d.length){var t=[],e=[];d.forEach(function(n){var r=f.createElement("script"),o=f.createElement("div");r.type=n[1]?"math/tex; mode=display":"math/tex",r.text=n[0],o.style.position="fixed",o.style.top=0,o.style.left="99999px",o.appendChild(r),f.body.appendChild(o),t.push(r),e.push([o,n[2]])}),d=[],h=p.typesetting,l.Queue(["Typeset",l,t]),l.Queue(function(){var t,n;s||(t=f.querySelectorAll("style"),n=Array.prototype.filter.call(t,function(t){return t.sheet&&t.sheet.cssRules.length>100&&".mjx-chtml"===t.sheet.cssRules[0].selectorText}),s=n[0]),e.forEach(function(t){var e=t[0],n="SPAN"===e.firstElementChild.tagName?e.firstElementChild:null;t[1](n,s),f.body.removeChild(e)}),h=p.ready,v()})}}function m(){h=p.loading,window.MathJax={skipStartupTypeset:!0,showMathMenu:!1,jax:["input/TeX","output/CommonHTML"],TeX:{extensions:["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]},AuthorInit:function(){(l=window.MathJax.Hub).Register.StartupHook("End",function(){h=p.ready,v()})}};var t=f.createElement("script");t.type="text/javascript",t.src=y,t.async=!0,t.onerror=function(){console.warn("Error loading MathJax library "+y),h=p.error,d=[]},f.head.appendChild(t)}var b=function(e){function i(){return t(this,i),u(this,o(i).apply(this,arguments))}return r(i,c(HTMLElement)),n(i,[{key:"connectedCallback",value:function(){this.hasAttribute("src")&&(y=this.getAttribute("src")),this.hasAttribute("lazy")||m()}},{key:"typeset",value:function(t,e,n){h!==p.error&&(d.push([t,e,n]),h===p.start?m():h===p.ready&&v())}}]),i}();window.customElements.define("math-tex-controller",b);var w,x="lrn-math",g="math-tex-controller",j={childList:!0,characterData:!0,attributes:!0,subtree:!0};function E(t){var e=t.shadowRoot,n=t.textContent.trim(),r="display"===t.getAttribute("mode"),o=(r?"D":"I")+n;if(o!==t._private.check){for(;e.firstChild;)e.removeChild(e.firstChild);t._private.check=o,n.length&&w.typeset(n,r,function(t,n){e.appendChild(n.cloneNode(!0)),e.appendChild(t)})}}var C=function(e){function i(){var e;return t(this,i),(e=u(this,o(i).call(this))).attachShadow({mode:"open"}),w||((w=f.querySelector(g)||f.createElement(g))&&"function"==typeof w.typeset?f.contains(w)||f.head.appendChild(w):(console.warn("no %s element defined; %s element will not work",g,x),w=void 0)),e}return r(i,c(HTMLElement)),n(i,[{key:"connectedCallback",value:function(){var t=this;window.requestAnimationFrame(function(){t._private={check:"",observer:new MutationObserver(function(){E(t)})},E(t),t._private.observer.observe(t,j)})}},{key:"disconnectedCallback",value:function(){this._private&&(this._private.observer.disconnect(),delete this._private)}}]),i}();window.customElements.define(x,C)});
//# sourceMappingURL=lrn-math.umd.js.map
