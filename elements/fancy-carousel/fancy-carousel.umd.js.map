{"version":3,"file":"fancy-carousel.umd.js","sources":["lib/fancy-carousel-animation-behaviour.js","lib/fancy-carousel-behaviour.js","lib/fancy-carousel-shared-styles.js","fancy-carousel.umd.js"],"sourcesContent":["import { dom } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\n\n/** @polymerBehavior FancyCarouselAnimationBehaviour */\nwindow.FancyCarouselAnimationBehaviourImpl = {\n  properties: {\n    _isWorking: false\n  },\n\n  observers: [],\n\n  _getNatureSpriteUrl: function() {\n    return \"url('\" + this.resolveUrl(\"images/nature-sprite.png\") + \"')\";\n  },\n\n  _getUrbanSpriteUrl: function() {\n    return \"url('\" + this.resolveUrl(\"images/urban-sprite.png\") + \"')\";\n  },\n\n  _getShiftSpriteUrl: function() {\n    return \"url('\" + this.resolveUrl(\"images/building-sprite.png\") + \"')\";\n  },\n\n  _getCollaspeSpriteUrl: function() {\n    return \"url('\" + this.resolveUrl(\"images/building-sprite-2.png\") + \"')\";\n  },\n\n  _preloadAnimationSprites: function() {\n    var dummyDiv1 = document.createElement(\"div\");\n    dummyDiv1.style.backgroundImage = this._getNatureSpriteUrl();\n    dummyDiv1.style.visibility = \"hidden\";\n    dummyDiv1.setAttribute(\"class\", \"dummy\");\n    dom(this).appendChild(dummyDiv1);\n\n    var dummyDiv2 = document.createElement(\"div\");\n    dummyDiv2.style.backgroundImage = this._getUrbanSpriteUrl();\n    dummyDiv2.style.visibility = \"hidden\";\n    dummyDiv2.setAttribute(\"class\", \"dummy\");\n    dom(this).appendChild(dummyDiv2);\n\n    var dummyDiv3 = document.createElement(\"div\");\n    dummyDiv3.style.backgroundImage = this._getShiftSpriteUrl();\n    dummyDiv3.style.visibility = \"hidden\";\n    dummyDiv3.setAttribute(\"class\", \"dummy\");\n    dom(this).appendChild(dummyDiv3);\n\n    var dummyDiv4 = document.createElement(\"div\");\n    dummyDiv4.style.backgroundImage = this._getCollaspeSpriteUrl();\n    dummyDiv4.style.visibility = \"hidden\";\n    dummyDiv4.setAttribute(\"class\", \"dummy\");\n    dom(this).appendChild(dummyDiv4);\n  },\n\n  _resetZIndex: function(elements, current) {\n    for (var i = 0; i < elements.length; i++) {\n      if (current && current.src === elements[i].src) {\n        elements[i].style.zIndex = \"2\";\n      } else {\n        elements[i].style.zIndex = \"1\";\n      }\n    }\n  },\n\n  _startTransition: function(direction, selected, nextElem) {\n    if (\n      this.transitionType === \"spread\" ||\n      this.transitionType === \"paint\" ||\n      this.transitionType === \"shift\" ||\n      this.transitionType === \"collapse\"\n    ) {\n      this._animateTransition(direction, selected, nextElem);\n    } else {\n      if (this._isWorking) return;\n      this._isWorking = true;\n\n      nextElem.style.zIndex = \"50\";\n\n      var oldSelected = selected;\n      this._translateX(oldSelected, 0);\n      this._translateX(nextElem, this.offsetWidth * direction);\n\n      // Start the transition\n      this.selected = nextElem;\n      this._translateX(\n        oldSelected,\n        -this.offsetWidth * direction,\n        true /* transition */\n      );\n      this._translateX(nextElem, 0, true /* transition */);\n\n      this._resetZIndex(dom(this).children, selected);\n      nextElem.style.zIndex = \"100\";\n\n      this._isWorking = false;\n    }\n  },\n\n  _animateTransition: function(direction, selected, nextElem) {\n    var self = this;\n\n    if (self._isWorking) return;\n    self._isWorking = true;\n\n    nextElem.style.zIndex = \"50\";\n    selected.className = this.transitionType;\n\n    if (this.transitionType === \"spread\") {\n      selected.style.mask = this._getNatureSpriteUrl();\n      selected.style.webkitMask = this._getNatureSpriteUrl();\n    } else if (this.transitionType === \"paint\") {\n      selected.style.mask = this._getUrbanSpriteUrl();\n      selected.style.webkitMask = this._getUrbanSpriteUrl();\n    } else if (this.transitionType === \"collapse\") {\n      selected.style.mask = this._getCollaspeSpriteUrl();\n      selected.style.webkitMask = this._getCollaspeSpriteUrl();\n    } else if (this.transitionType === \"shift\") {\n      selected.style.mask = this._getShiftSpriteUrl();\n      selected.style.webkitMask = this._getShiftSpriteUrl();\n    }\n\n    setTimeout(function() {\n      selected.className = \"\";\n      selected.style.mask = \"\";\n      selected.style.webkitMask = \"\";\n      self._resetZIndex(dom(self).children);\n      nextElem.style.zIndex = \"100\";\n      self.selected = nextElem;\n      self._isWorking = false;\n    }, 1400);\n  },\n\n  listeners: {\n    transitionend: \"_resetChildrenStyles\",\n    touchstart: \"_touchstart\",\n    touchmove: \"_touchmove\",\n    touchend: \"_touchend\"\n  },\n\n  _resetChildrenStyles: function() {\n    var elem = this.firstElementChild;\n    while (elem) {\n      elem.style.display = \"\";\n      elem.style.transition = \"\";\n      elem.style.transform = \"\";\n      elem = elem.nextElementSibling;\n    }\n  },\n\n  _translateX: function(elem, x, transition) {\n    elem.style.display = \"block\";\n    elem.style.transition = transition ? \"transform 0.2s\" : \"\";\n    elem.style.transform = \"translate3d(\" + x + \"px, 0, 0)\";\n  },\n\n  _touchstart: function(event) {\n    // No transition if less than two images\n    if (this.childElementCount < 2) {\n      return;\n    }\n\n    // Save start coordinates\n    if (!this._touchDir) {\n      this._startX = event.changedTouches[0].clientX;\n      this._startY = event.changedTouches[0].clientY;\n    }\n  },\n\n  _touchmove: function(event) {\n    // No transition if less than two images\n    if (this.childElementCount < 2) {\n      return;\n    }\n\n    // Is touchmove mostly horizontal or vertical?\n    if (!this._touchDir) {\n      var absX = Math.abs(event.changedTouches[0].clientX - this._startX);\n      var absY = Math.abs(event.changedTouches[0].clientY - this._startY);\n      this._touchDir = absX > absY ? \"x\" : \"y\";\n    }\n\n    if (this._touchDir === \"x\") {\n      // Prevent vertically scrolling when swiping\n      event.preventDefault();\n\n      var dx = Math.round(event.changedTouches[0].clientX - this._startX);\n      var prevChild = this.selected.previousElementSibling;\n      var nextChild = this.selected.nextElementSibling;\n\n      // Don't translate past the current image if there's no adjacent image in that direction\n      if ((!prevChild && dx > 0) || (!nextChild && dx < 0)) {\n        dx = 0;\n      }\n\n      this._translateX(this.selected, dx);\n      if (prevChild) {\n        this._translateX(prevChild, dx - this.offsetWidth);\n      }\n      if (nextChild) {\n        this._translateX(nextChild, dx + this.offsetWidth);\n      }\n    }\n  },\n\n  _touchend: function(event) {\n    // No transition if less than two images\n    if (this.childElementCount < 2) {\n      return;\n    }\n\n    // Don't finish swiping if there are still active touches.\n    if (event.touches.length) {\n      return;\n    }\n\n    if (this._touchDir === \"x\") {\n      var dx = Math.round(event.changedTouches[0].clientX - this._startX);\n      var prevChild = this.selected.previousElementSibling;\n      var nextChild = this.selected.nextElementSibling;\n\n      // Don't translate past the current image if there's no adjacent image in that direction\n      if ((!prevChild && dx > 0) || (!nextChild && dx < 0)) {\n        dx = 0;\n      }\n\n      if (dx > 0) {\n        var prevChild = this.selected.previousElementSibling;\n        if (prevChild) {\n          if (dx > 100) {\n            if (dx === this.offsetWidth) {\n              // No transitionend will fire (since we're already in the final state),\n              // so reset children styles now\n              this._resetChildrenStyles();\n            } else {\n              this._translateX(prevChild, 0, true);\n              this._translateX(this.selected, this.offsetWidth, true);\n            }\n            this.selected = prevChild;\n          } else {\n            this._translateX(prevChild, -this.offsetWidth, true);\n            this._translateX(this.selected, 0, true);\n          }\n        }\n      } else if (dx < 0) {\n        var nextChild = this.selected.nextElementSibling;\n        if (nextChild) {\n          if (dx < -100) {\n            if (dx === -this.offsetWidth) {\n              // No transitionend will fire (since we're already in the final state),\n              // so reset children styles now\n              this._resetChildrenStyles();\n            } else {\n              this._translateX(this.selected, -this.offsetWidth, true);\n              this._translateX(nextChild, 0, true);\n            }\n            this.selected = nextChild;\n          } else {\n            this._translateX(this.selected, 0, true);\n            this._translateX(nextChild, this.offsetWidth, true);\n          }\n        }\n      } else {\n        // No transitionend will fire (since we're already in the final state),\n        // so reset children styles now\n        this._resetChildrenStyles();\n      }\n    }\n\n    // Reset touch direction\n    this._touchDir = null;\n  }\n};\n\n/** @polymerBehavior */\nwindow.FancyCarouselAnimationBehaviour = [\n  window.FancyCarouselAnimationBehaviourImpl\n];\n","import { dom } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\nimport \"./fancy-carousel-animation-behaviour.js\";\n/** @polymerBehavior FancyCarouselBehaviour */\nwindow.FancyCarouselBehaviourImpl = {\n  properties: {},\n\n  observers: [],\n\n  _loadCustomImages: function(searchTerm) {\n    var that = this;\n    var imgUrls;\n    findImages(searchTerm, this.searchEngineCx, this.apiKey, function(urls) {\n      if (!urls) {\n        console.log(\"Error loading images\");\n        return;\n      }\n      imgUrls = urls;\n      console.log(imgUrls);\n      that._addImageNodes(imgUrls);\n    });\n  },\n\n  _addImageNodes: function(imgUrls) {\n    var numUrls = imgUrls.length;\n    for (var i = 0; i < numUrls; i++) {\n      if (!imgUrls[i]) {\n        continue;\n      }\n      var newImage = document.createElement(\"img\");\n      newImage.setAttribute(\"src\", imgUrls[i]);\n      newImage.style.width = \"100%\";\n      newImage.style.height = \"100%\";\n      dom(this).appendChild(newImage);\n    }\n  },\n\n  _getNextElement: function() {\n    var elem = this.selected.nextElementSibling;\n    while (elem && elem.getAttribute(\"class\") === \"dummy\") {\n      elem = elem.nextElementSibling;\n    }\n    if (!elem) {\n      elem = dom(this).querySelectorAll(\"img\")[0];\n    }\n    return elem;\n  },\n\n  _timerChanged: function(newValue, oldValue) {\n    var that = this;\n    if (newValue != 0) {\n      setInterval(function() {\n        that.next();\n      }, newValue * 1000);\n    }\n  },\n\n  _selectedChanged: function(selected, oldSelected) {\n    if (oldSelected) {\n      oldSelected.removeAttribute(\"selected\");\n    }\n    if (selected) {\n      selected.setAttribute(\"selected\", \"\");\n      this.$.prevBtn.disabled = !selected.previousElementSibling;\n      this.$.nextBtn.disabled = !selected.nextElementSibling;\n\n      this._loadImage(selected);\n      this._loadImage(selected.previousElementSibling);\n      this._loadImage(selected.nextElementSibling);\n    }\n  },\n\n  _loadImage: function(img) {\n    if (img && !img.src) {\n      img.src = img.getAttribute(\"data-src\");\n    }\n  }\n};\n\n/** @polymerBehavior */\nwindow.FancyCarouselBehaviour = [\n  window.FancyCarouselBehaviourImpl,\n  window.FancyCarouselAnimationBehaviour\n];\n","var $_documentContainer = document.createElement(\"div\");\n$_documentContainer.setAttribute(\"style\", \"display: none;\");\n\n$_documentContainer.innerHTML = `<dom-module id=\"fancy-carousel-shared-styles\">\n  <template>\n    <style>\n      button {\n        position: absolute;\n        top: calc(50% - 20px);\n        padding: 0;\n        line-height: 40px;\n        border: none;\n        background: none;\n        color: #DDD;\n        font-size: 40px;\n        font-weight: bold;\n        opacity: 0.7;\n      }\n\n      button:hover,\n      button:focus {\n        opacity: 1;\n      }\n\n      button[disabled] {\n        opacity: 0.4;\n      }\n\n      #content-wrapper ::content > .spread {\n        -webkit-mask-size: 2300% 100%;\n        mask-size: 2300% 100%;\n        -webkit-animation: mask-play 1.4s steps(22) forwards;\n        animation: mask-play 1.4s steps(22) forwards;\n      }\n\n      #content-wrapper ::content > .paint {\n        -webkit-mask-size: 3000% 100%;\n        mask-size: 3000% 100%;\n        -webkit-animation: mask-play 1.4s steps(29) forwards;\n        animation: mask-play 1.4s steps(29) forwards;\n      }\n\n      #content-wrapper ::content > .shift {\n        -webkit-mask-size: 7500% 100%;\n        mask-size: 7500% 100%;\n        -webkit-animation: mask-play 1.4s steps(74) forwards;\n        animation: mask-play 1.4s steps(74) forwards;\n      }\n\n      #content-wrapper ::content > .collapse {\n       -webkit-mask-size: 8400% 100%;\n          mask-size: 8400% 100%;\n        -webkit-animation: mask-play 1.4s steps(83) forwards;\n          animation: mask-play 1.4s steps(83) forwards;\n      }\n\n      #content-wrapper ::content > img {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n      }\n\n      @-webkit-keyframes mask-play {\n        from {\n        -webkit-mask-position: 0% 0;\n        mask-position: 0% 0;\n        }\n        to {\n        -webkit-mask-position: 100% 0;\n        mask-position: 100% 0;\n        }\n      }\n\n      @keyframes mask-play {\n        from {\n        -webkit-mask-position: 0% 0;\n        mask-position: 0% 0;\n        }\n        to {\n        -webkit-mask-position: 100% 0;\n        mask-position: 100% 0;\n        }\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer);\n","import { html, Polymer } from \"@polymer/polymer/polymer-legacy.js\";\nimport { dom } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\nimport \"./lib/fancy-carousel-behaviour.js\";\nimport \"./lib/fancy-carousel-shared-styles.js\";\n/**\n`fancy-carousel`\nCarousel which gives you options for multiple fancy transistions and different ways to include images.\n\n@demo demo/index.html\n*/\nPolymer({\n  _template: html`\n    <style include=\"fancy-carousel-shared-styles\">\n      :host {\n        display: block;\n        position: relative;\n        overflow: hidden;\n        width: 100%;\n        contain: content;\n      }\n\n      :host(:after) {\n        display: block;\n        content: '';\n        padding-top: 75%; /* 4:3 = height is 75% of width */\n      }\n\n      #prevBtn {\n        left: 12px;\n        z-index: 1000;\n      }\n\n      #nextBtn {\n        right: 12px;\n        z-index: 1000;\n      }\n    </style>\n\n    <div id=\"content-wrapper\">\n      <slot></slot>\n    </div>\n\n    <button id=\"prevBtn\" on-click=\"previous\">❮</button>\n    <button id=\"nextBtn\" on-click=\"next\">❯</button>\n`,\n\n  is: \"fancy-carousel\",\n\n  behaviors: [FancyCarouselBehaviour],\n\n  properties: {\n    selected: {\n      observer: \"_selectedChanged\"\n    },\n    imageTopic: {\n      type: String\n    },\n    searchEngineCx: {\n      type: String\n    },\n    apiKey: {\n      type: String\n    },\n    transitionType: {\n      value: \"default\",\n      type: String,\n      notify: true\n    },\n    noControls: {\n      type: Boolean,\n      value: false\n    },\n    transitionTimer: {\n      type: Number,\n      value: 0,\n      observer: \"_timerChanged\"\n    }\n  },\n\n  attached: function() {\n    this._resetZIndex(dom(this).children);\n    this.selected = dom(this).querySelectorAll(\"img\")[0];\n    if (this.selected) {\n      this.selected.style.zIndex = \"100\";\n    }\n    if (this.noControls) {\n      this.$.prevBtn.style.display = \"none\";\n      this.$.nextBtn.style.display = \"none\";\n    }\n    if (this.imageTopic) {\n      this._loadCustomImages(this.imageTopic);\n    }\n\n    this._preloadAnimationSprites();\n  },\n\n  /**\n   * Changes the carousel to the previous image\n   */\n  previous: function() {\n    var elem = this.selected.previousElementSibling;\n    while (elem && elem.getAttribute(\"class\") === \"dummy\") {\n      elem = elem.previousElementSibling;\n    }\n    if (elem && !this._touchDir) {\n      this._startTransition(-1, this.selected, elem);\n    }\n  },\n\n  /**\n   * Changes the carousel to the next image\n   */\n  next: function() {\n    var elem = this._getNextElement();\n    if (elem && !this._touchDir) {\n      this._startTransition(1, this.selected, elem);\n    }\n  }\n});\n"],"names":["window","FancyCarouselAnimationBehaviourImpl","properties","_isWorking","observers","_getNatureSpriteUrl","this","resolveUrl","_getUrbanSpriteUrl","_getShiftSpriteUrl","_getCollaspeSpriteUrl","_preloadAnimationSprites","dummyDiv1","document","createElement","style","backgroundImage","visibility","setAttribute","dom","appendChild","dummyDiv2","dummyDiv3","dummyDiv4","_resetZIndex","elements","current","i","length","src","zIndex","_startTransition","direction","selected","nextElem","transitionType","_animateTransition","oldSelected","_translateX","offsetWidth","children","self","className","mask","webkitMask","setTimeout","listeners","transitionend","touchstart","touchmove","touchend","_resetChildrenStyles","elem","firstElementChild","display","transition","transform","nextElementSibling","x","_touchstart","event","childElementCount","_touchDir","_startX","changedTouches","clientX","_startY","clientY","_touchmove","absX","Math","abs","absY","preventDefault","dx","round","prevChild","previousElementSibling","nextChild","_touchend","touches","FancyCarouselAnimationBehaviour","FancyCarouselBehaviourImpl","_loadCustomImages","searchTerm","imgUrls","that","findImages","searchEngineCx","apiKey","urls","console","log","_addImageNodes","numUrls","newImage","width","height","_getNextElement","getAttribute","querySelectorAll","_timerChanged","newValue","oldValue","setInterval","next","_selectedChanged","removeAttribute","$","prevBtn","disabled","nextBtn","_loadImage","img","FancyCarouselBehaviour","$_documentContainer","innerHTML","head","_template","html","is","behaviors","observer","imageTopic","type","String","value","notify","noControls","Boolean","transitionTimer","Number","attached","previous"],"mappings":"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"}