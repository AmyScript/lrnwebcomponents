{"version":3,"file":"iron-a11y-announcer.umd.js","sources":["iron-a11y-announcer.umd.js"],"sourcesContent":["import \"@polymer/polymer/polymer.js\";\nimport { Polymer as Polymer$0 } from \"@polymer/polymer/lib/legacy/polymer-fn.js\";\n\nexport const IronA11yAnnouncer = Polymer$0({\n  _template: html`\n    <style>\n      :host {\n        display: inline-block;\n        position: fixed;\n        clip: rect(0px,0px,0px,0px);\n      }\n    </style>\n    <div aria-live\\$=\"[[mode]]\">[[_text]]</div>\n`,\n\n  is: \"iron-a11y-announcer\",\n\n  properties: {\n    /**\n     * The value of mode is used to set the `aria-live` attribute\n     * for the element that will be announced. Valid values are: `off`,\n     * `polite` and `assertive`.\n     */\n    mode: {\n      type: String,\n      value: \"polite\"\n    },\n\n    _text: {\n      type: String,\n      value: \"\"\n    }\n  },\n\n  created: function() {\n    if (!IronA11yAnnouncer.instance) {\n      IronA11yAnnouncer.instance = this;\n    }\n\n    document.body.addEventListener(\n      \"iron-announce\",\n      this._onIronAnnounce.bind(this)\n    );\n  },\n\n  /**\n   * Cause a text string to be announced by screen readers.\n   *\n   * @param {string} text The text that should be announced.\n   */\n  announce: function(text) {\n    this._text = \"\";\n    this.async(function() {\n      this._text = text;\n    }, 100);\n  },\n\n  _onIronAnnounce: function(event) {\n    if (event.detail && event.detail.text) {\n      this.announce(event.detail.text);\n    }\n  }\n});\n\nIronA11yAnnouncer.instance = null;\n\nIronA11yAnnouncer.requestAvailability = function() {\n  document.addEventListener(\"DOMContentLoaded\", function(event) {\n    if (!IronA11yAnnouncer.instance) {\n      IronA11yAnnouncer.instance = document.createElement(\n        \"iron-a11y-announcer\"\n      );\n    }\n\n    document.body.appendChild(IronA11yAnnouncer.instance);\n  });\n};\n"],"names":["IronA11yAnnouncer","Polymer$0","_template","is","properties","mode","type","String","value","_text","created","instance","this","document","body","addEventListener","_onIronAnnounce","bind","announce","text","async","event","detail","requestAvailability","createElement","appendChild"],"mappings":"sYAGaA,EAAoBC,UAAU,CACzCC,kNAWAC,GAAI,sBAEJC,WAAY,CAMVC,KAAM,CACJC,KAAMC,OACNC,MAAO,UAGTC,MAAO,CACLH,KAAMC,OACNC,MAAO,KAIXE,QAAS,WACFV,EAAkBW,WACrBX,EAAkBW,SAAWC,MAG/BC,SAASC,KAAKC,iBACZ,gBACAH,KAAKI,gBAAgBC,KAAKL,QAS9BM,SAAU,SAASC,QACZV,MAAQ,QACRW,MAAM,gBACJX,MAAQU,GACZ,MAGLH,gBAAiB,SAASK,GACpBA,EAAMC,QAAUD,EAAMC,OAAOH,WAC1BD,SAASG,EAAMC,OAAOH,SAKjCnB,EAAkBW,SAAW,KAE7BX,EAAkBuB,oBAAsB,WACtCV,SAASE,iBAAiB,mBAAoB,SAASM,GAChDrB,EAAkBW,WACrBX,EAAkBW,SAAWE,SAASW,cACpC,wBAIJX,SAASC,KAAKW,YAAYzB,EAAkBW"}